{% extends "base.html" %}

{% load static from staticfiles %}
{% load app_filters %}

{% block section_class %}not-container{% endblock %}
{% block content %}
        {% with page="edit" %}
            {% include "persona_builder/persona/intro.html" %}
        {% endwith %}


        {% if show_basic_info %}
            <h3 class="header-extra-small">Name</h3>
            <p>{{ persona.name }}</p>
            <h3 class="header-extra-small">Description</h3>
            <p>{{ persona.description }}</p>
            <p class="clearfix">
                <a href="{{ persona.get_edit_info_url }}" class="pull-right"><i class="fa fa-pencil"></i> Edit basic information</a>
            </p>
        {% endif %}

        <p>Define some or all of the properties below to describe this persona:</p>
        <form class="persona-filters-form" method="POST" action=".">{% csrf_token %}

            {{ form.non_field_errors}}
            {{ form.query.errors }}
            <div class="query-box">
                {{ form.query }}
            </div>

            {% for filter in filters %}
                {% if filter|filterable %}
                    {% include "persona_builder/persona/filter.html" %}
                {% endif %}
            {% endfor %}


            <input class="btn btn-primary pull-right" type="submit" value="Save persona" />
        </form>
    </section>
{% endblock %}

{% block js %}
    <script src="{% static "js/chosen.jquery.min.js" %}"></script>
    <script src="{% static "persona_builder/js/edit_properties.js" %}"></script>
{% endblock %}