{% extends "base.html" %}

{% load endless %}
{% load static from staticfiles %}

{% load bm_filters %}

{% block title %}{{ project.project_name }} - Scenario information{% endblock %}
{% block section_class %}bg-white{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static "stories/css/style.css" %}">
    <link rel="stylesheet" href="{% static "persona_builder/css/style.css" %}">
{% endblock %}

{% block content %}
    <div class="clerfix">
        <h1 class="pull-left">Scenario information - Scenario # {{ scenario.project_scenario_id }}</h1>
        <a href="{{ scenario.get_abolute_url }}edit/" class="btn btn-transparent btn-sm pull-right">Edit scenario</a>
    </div>

    <div class="row">
        <div class="panel bg-white col-xs-12">
            <div class="col-md-3">
                <h3>Info</h3>
                <p><b>Created:</b><br />
                    <span class="number">{{ scenario.created }}</span></p>
                <p><b>Last edited:</b><br />
                    <span class="number">{{ scenario.updated }}</span></p>
                <p><b>Owner:</b><br />
                    <span class="number">{{ scenario.owner }}</span></p>
            </div>

            <div class="col-md-6 scenario-main-col">
                <div class="row">
                    <div class="col-xs-3">
                        <b>ID</b>: #{{ scenario.project_scenario_id }}
                    </div>

                    <div class="col-xs-9">
                        <b>Title</b>: {{ scenario.title }}
                    </div>
                </div>

                <div class="row margin-top-5">
                    <div class="col-xs-12">
                        <p><b>Scenario</b></p>
                        <p>{{ scenario.description }}</p>
                    </div>
                </div>

                <div class="row margin-top-5">
                    <div class="col-xs-12">
                        <p><b>Tags</b></p>
                        <p>{{ scenario.tags }}</p>
                    </div>
                </div>

                <div class="row margin-top-5">
                    <div class="col-xs-12">
                        <p><b>Comments</b></p>
                        <p>{{ scenario.comments|default:"No comments available" }}</p>
                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="row">
                    <div class="col-xs-12">
                        <h5>Related User Stories ({{ scenario.stories.count }})</h5>
                        {% for story in scenario.stories.all %}
                            <p>
                                <a href="{{ story.get_absolute_url }}">#{{ story.project_story_id }} - {{ story.title }} ({{ story.get_story_type_display }})</a>
                            </p>
                        {% empty %}
                            <p>No stories yet in this scenario.</p>
                            <p>Start by <a href="{{ scenario.get_create_story_url }}">creating a story</a>.</p>
                        {% endfor %}

                        <div class="pull-right">
                            <a href="{{ scenario.get_create_story_url }}">Create</a>
                            <span class="separator"> | </span>
                            <a href="#">Add</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}